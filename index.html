<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=resizes-content">
    <title>Aira Hunter Voice Pro</title>
    <style>
        :root {
            --bg-color: #0e1117;
            --gemini-blue: #4285f4;
            --gemini-purple: #9b72cb;
            --input-bg: #1e1f20;
            --sidebar-bg: #17191c;
            --danger: #ff4b2b;
            --success: #28a745;
            --accent-color: var(--gemini-blue);
            --glow-color: rgba(66, 133, 244, 0.25);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body, html { margin: 0; padding: 0; height: 100dvh; width: 100vw; background: var(--bg-color); color: white; font-family: 'Google Sans', sans-serif; overflow: hidden; display: flex; flex-direction: column; }

        /* --- DYNAMIC SCREEN SIDE GLOW --- */
        body.typing-mode::before { 
            content: ''; position: fixed; top: 0; left: 0; width: 60px; height: 100%; 
            background: linear-gradient(to right, var(--glow-color), transparent); 
            z-index: 5; pointer-events: none; transition: 0.3s;
        }
        body.typing-mode::after { 
            content: ''; position: fixed; top: 0; right: 0; width: 60px; height: 100%; 
            background: linear-gradient(to left, var(--glow-color), transparent); 
            z-index: 5; pointer-events: none; transition: 0.3s;
        }

        /* --- HEADER & SIDEBAR --- */
        header { padding: 15px 25px; display: flex; justify-content: space-between; align-items: center; }
        .menu-btn { font-size: 30px; cursor: pointer; color: #9aa0a6; }
        #sidebar { position: fixed; top: 0; left: -280px; width: 280px; height: 100%; background: var(--sidebar-bg); z-index: 1001; transition: 0.3s; padding: 25px; border-right: 1px solid rgba(255,255,255,0.1); }
        #sidebar.open { transform: translateX(280px); }
        .sidebar-item { padding: 15px; border-radius: 12px; cursor: pointer; margin-bottom: 8px; color: #e8eaed; display: flex; align-items: center; gap: 10px; }
        #overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; display: none; backdrop-filter: blur(4px); }

        /* --- CHAT AREA --- */
        #chat-area { flex-grow: 1; display: flex; flex-direction: column; padding: 20px; overflow-y: auto; padding-bottom: 110px; position: relative; }
        .avatar { width: 48px; height: 48px; border-radius: 50%; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; position: relative; font-weight: bold; }
        .thinking .avatar::after { content: ''; position: absolute; top: -4px; left: -4px; right: -4px; bottom: -4px; border-radius: 50%; border: 2.5px solid transparent; border-left: 2.5px solid var(--accent-color); border-top: 2.5px solid var(--gemini-purple); animation: orbit 1s linear infinite; }
        @keyframes orbit { 100% { transform: rotate(360deg); } }

        /* --- INPUT PILL --- */
        .bottom-section { position: fixed; bottom: 0; left: 0; width: 100%; padding: 10px 15px 35px; background: var(--bg-color); display: flex; justify-content: center; z-index: 100; }
        .input-pill { 
            width: 100%; max-width: 700px; background: var(--input-bg); border-radius: 35px; 
            display: flex; align-items: center; padding: 5px 18px; 
            border: 1px solid rgba(255,255,255,0.05); transition: 0.3s;
        }
        .typing-mode .input-pill { border: 1px solid var(--accent-color); box-shadow: 0 0 15px var(--glow-color); }
        input { background: none; border: none; color: white; flex-grow: 1; padding: 12px 0; outline: none; font-size: 16px; }

        /* üéôÔ∏è THE MIC WAVE */
        .mic-container { display: flex; align-items: center; justify-content: center; gap: 3px; cursor: pointer; margin: 0 12px; height: 35px; width: 45px; }
        .bar { width: 3.5px; height: 10px; background: var(--accent-color); border-radius: 10px; transition: 0.3s ease; }
        .mic-container.active .bar { background: var(--danger); box-shadow: 0 0 10px var(--danger); animation: waveAnim 0.8s infinite ease-in-out; }
        .bar:nth-child(2) { height: 16px; animation-delay: 0.1s; }
        .bar:nth-child(3) { height: 22px; animation-delay: 0.2s; }
        .bar:nth-child(4) { height: 16px; animation-delay: 0.3s; }
        @keyframes waveAnim { 0%, 100% { transform: scaleY(1); } 50% { transform: scaleY(2.8); } }

        .send-btn { font-size: 28px; color: var(--accent-color); cursor: pointer; transform: rotate(-15deg); }

        /* --- ADMIN ROOM --- */
        #admin-room { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #0b0e14; z-index: 2000; display: none; padding: 30px 20px; overflow-y: auto; }
        .admin-box { background: #17191c; border-radius: 15px; padding: 20px; border: 1px solid #222; margin-top: 15px; }
        .action-btn { background: var(--accent-color); color: white; border: none; padding: 10px 15px; border-radius: 8px; margin-top: 10px; cursor: pointer; width: 100%; font-weight: bold; }
        .complaint-text { background: #000; color: #ff4b2b; padding: 10px; border-radius: 5px; font-size: 13px; margin-top: 10px; border: 1px solid #400; display: none; white-space: pre-wrap; }
        textarea { width: 100%; background: #0e1117; border: 1px solid #333; color: white; border-radius: 10px; padding: 10px; margin-top: 10px; outline: none; resize: none; font-family: inherit; }
    </style>
</head>
<body>

    <div id="sidebar">
        <h2 id="side-title" style="color: var(--accent-color);">Aira Hunter</h2>
        <div class="sidebar-item" id="prem-btn" onclick="upgradeToPremium()">üíé Upgrade Premium</div>
        <div class="sidebar-item" onclick="location.reload()">‚ú® New Chat</div>
    </div>
    <div id="overlay" onclick="closeAll()"></div>

    <header>
        <div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>
        <div style="width:60px; height:60px;" onclick="handleSecret()"></div>
    </header>

    <div id="chat-area">
        <div class="ai-row" id="main-ai">
            <div class="avatar">A</div>
            <div class="msg-container">
                <div class="msg-text" id="ai-msg">Aira Hunter Online. Standing by for commands, Commander. ü´°</div>
            </div>
        </div>
    </div>

    <div class="bottom-section">
        <div class="input-pill" id="inputPill">
            <div style="font-size:24px; color:var(--accent-color); margin-right:12px; cursor:pointer;" onclick="document.getElementById('fIn').click()">+</div>
            <input type="text" id="userInput" placeholder="Talk to me..." autocomplete="off" onfocus="setShade(true)" onblur="setShade(false)">
            
            <div class="mic-container" id="micBtn" onclick="startListening()">
                <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
            </div>

            <div class="send-btn" onclick="sendMsg()">‚û§</div>
        </div>
    </div>

    <input type="file" id="fIn" style="display:none">

    <div id="admin-room">
        <h1 style="color: var(--accent-color);">üõ°Ô∏è Admin Panel</h1>
        
        <div class="admin-box">
            <h3 style="margin:0;">Status: <span id="u-stat" style="color:var(--success)">Online</span></h3>
            <button class="action-btn" style="background:var(--danger)" onclick="toggleBlock()">MANUAL BLOCK</button>
        </div>

        <div class="admin-box">
            <h3 style="margin:0;">üìù Command Aira</h3>
            <textarea id="commander-note" rows="3" placeholder="Enter special instruction for Aira..."></textarea>
            <button class="action-btn" onclick="sendInstruction()">Send Instruction</button>
        </div>

        <div class="admin-box" style="border-color: var(--danger);">
            <h3 style="margin:0; color: var(--danger);">‚ö†Ô∏è Complaint Log</h3>
            <div id="complaint-list" class="complaint-text">No recent reports.</div>
            <button class="action-btn" style="background:#444" onclick="viewComplaints()">View Reports</button>
        </div>
        
        <button class="action-btn" style="background:#333; margin-top:20px;" onclick="closeAll()">Exit Panel</button>
    </div>

    <script>
        const ADMIN_PW = "566068";
        const input = document.getElementById('userInput');
        const aiMsg = document.getElementById('ai-msg');
        const aiRow = document.getElementById('main-ai');
        const micBtn = document.getElementById('micBtn');
        const compList = document.getElementById('complaint-list');
        
        let isBlocked = false;
        let isPremium = false;
        let tCount = 0;
        let complaints = [];

        const badWords = ["poda", "podi", "myr", "virthiked", "patti", "thendi"];

        function airaTalk(txt) {
            const synth = window.speechSynthesis;
            const utter = new SpeechSynthesisUtterance(txt);
            utter.lang = 'en-US'; utter.rate = 1.1; 
            synth.speak(utter);
        }

        function checkAbuse(text) {
            let found = badWords.some(word => text.toLowerCase().includes(word));
            if (found) {
                complaints.push(`[${new Date().toLocaleTimeString()}] Blocked: "${text}"`);
                compList.innerText = complaints.join("\n");
                return true;
            }
            return false;
        }

        const Recognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (Recognition) {
            const rec = new Recognition(); rec.lang = 'en-US';
            rec.onstart = () => { micBtn.classList.add('active'); setShade(true); };
            rec.onresult = (e) => { input.value = e.results[0][0].transcript; micBtn.classList.remove('active'); sendMsg(); };
            rec.onerror = () => { micBtn.classList.remove('active'); setShade(false); };
            window.startListening = () => { if(!isBlocked) rec.start(); };
        }

        function sendMsg() {
            if(isBlocked) return;
            let v = input.value.trim();
            if(!v) return;

            if (checkAbuse(v)) {
                isBlocked = true;
                document.getElementById('u-stat').innerText = "BLOCKED (Abuse)";
                aiMsg.innerText = "Disrespect detected. Session terminated.";
                airaTalk("I don't tolerate disrespect.");
                setShade(false);
                return;
            }

            aiRow.classList.add('thinking');
            setTimeout(() => {
                aiMsg.innerText = "Received: " + v;
                aiRow.classList.remove('thinking');
                airaTalk(aiMsg.innerText);
            }, 800);
            input.value = "";
        }

        // --- ADMIN COMMANDS ---
        function sendInstruction() {
            const note = document.getElementById('commander-note').value;
            if(!note) return alert("Command empty!");
            
            aiMsg.innerText = "Direct Instruction: " + note;
            airaTalk("New instruction received. " + note);
            
            document.getElementById('commander-note').value = "";
            alert("Instruction synced with Aira! üß†");
            closeAll();
        }

        function upgradeToPremium() {
            isPremium = true;
            document.documentElement.style.setProperty('--accent-color', '#ffd700');
            document.documentElement.style.setProperty('--glow-color', 'rgba(255, 215, 0, 0.4)');
            document.getElementById('side-title').innerText = "Aira ROYAL üëë";
            document.getElementById('side-title').style.color = "#ffd700";
            document.getElementById('prem-btn').style.display = "none";
            airaTalk("Royal Premium Activated. Welcome, King!");
            closeAll();
        }

        function handleSecret() { tCount++; if(tCount>=3) { if(prompt("Key:")===ADMIN_PW) document.getElementById('admin-room').style.display='block'; tCount=0; } }
        function toggleMenu() { document.getElementById('sidebar').classList.toggle('open'); document.getElementById('overlay').style.display='block'; }
        function closeAll() { document.getElementById('sidebar').classList.remove('open'); document.getElementById('admin-room').style.display='none'; document.getElementById('overlay').style.display='none'; }
        function setShade(show) { if(show) document.body.classList.add('typing-mode'); else document.body.classList.remove('typing-mode'); }
        function toggleBlock() { isBlocked = !isBlocked; document.getElementById('u-stat').innerText = isBlocked ? "BLOCKED" : "Online"; }
        function viewComplaints() { compList.style.display = (compList.style.display === "none" || compList.style.display === "") ? "block" : "none"; }
    </script>
</body>
</html>
